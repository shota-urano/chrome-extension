<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>XBM Popup</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 12px; width: 320px; }
    label { display:block; margin: 8px 0 4px; font-size: 12px; color: #333; }
    input[type="text"], input[type="number"] {
      width: 100%; padding: 6px 8px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box;
    }
    .row { margin-bottom: 10px; }
    .hint { font-size: 11px; color:#666; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
    .btn {
      width: 100%; padding: 8px 10px; border: 0; border-radius: 8px; cursor: pointer; font-weight: 600;
    }
    .primary { background: #4CAF50; color: #fff; }
    .ghost { background: #f2f2f2; color: #333; }
    .sep { height: 1px; background: #eee; margin: 10px 0; }
  </style>
</head>
<body>
  <h3 style="margin:0 0 8px;">X Bookmarks → Markdown</h3>

  <div class="row">
    <label>Save subfolder (empty = download root)</label>
    <input id="saveDir" type="text" placeholder="" />
  </div>

  <div class="row">
    <label>Optional media subfolder (empty = same as above/root)</label>
    <input id="mediaSubfolder" type="text" placeholder="media" />
  </div>

  <div class="row">
    <label>Filename template</label>
    <input id="filename" type="text" placeholder="{date} {author} {id}.md" />
    <div class="hint">Placeholders: {date}, {author}, {id}, {slug}</div>
  </div>

  <div class="grid">
    <div class="row">
      <label>Bookmarks to save (this run)</label>
      <input id="runLimit" type="number" min="1" max="200" />
    </div>
    <div class="row">
      <label>Default limit</label>
      <input id="defaultLimit" type="number" min="1" max="200" />
    </div>
  </div>

  <div class="row">
    <label><input id="unbookmark" type="checkbox" /> Unbookmark after saving</label>
  </div>

  <div class="row">
    <label><input id="saveImages" type="checkbox" checked /> Save images</label>
  </div>

  <div class="row">
    <label><input id="embedLocalImages" type="checkbox" checked /> Embed local image paths in Markdown</label>
  </div>

  <div class="sep"></div>

  <div class="grid">
    <button id="run" class="btn primary">Save Now</button>
    <button id="openOptions" class="btn ghost">Options…</button>
  </div>

  <script src="popup.js"></script>
</body>
</html>
